diff --git a/appmap.yml b/appmap.yml
new file mode 100644
index 0000000..8bd38b6
--- /dev/null
+++ b/appmap.yml
@@ -0,0 +1,12 @@
+name: appmap-agent-js
+packages:
+  - path: bin
+  - path: component
+  - path: components
+  - path: dist
+  - path: doc
+  - path: lib/node
+  - path: schema
+  - path: test
+language: javascript
+appmap_dir: tmp/appmap
diff --git a/package-lock.json b/package-lock.json
index f4dbdeb..37416c9 100644
--- a/package-lock.json
+++ b/package-lock.json
@@ -9,6 +9,7 @@
       "version": "14.2.0",
       "license": "MIT",
       "dependencies": {
+        "@appland/appmap-agent-js": "^14.2.0",
         "@appland/appmap-validate": "^2.3.0",
         "@babel/parser": "^7.15.8",
         "ajv": "^8.6.3",
@@ -93,6 +94,42 @@
         "node": ">=6.0.0"
       }
     },
+    "node_modules/@appland/appmap-agent-js": {
+      "version": "14.2.0",
+      "resolved": "https://registry.npmjs.org/@appland/appmap-agent-js/-/appmap-agent-js-14.2.0.tgz",
+      "integrity": "sha512-I2ro2Y4iZNFwrd4e7bO3GxhgBuCwgqsbMeui8BDZtiE3elc1hSHasCTx3Pa2B2ZJ9dgM5BXl4oCb/p8nn5nqnA==",
+      "dependencies": {
+        "@appland/appmap-validate": "^2.3.0",
+        "@babel/parser": "^7.15.8",
+        "ajv": "^8.6.3",
+        "ajv-error-tree": "0.0.5",
+        "astring": "^1.8.4",
+        "chalk": "^5.0.1",
+        "fswin": "^3.23.311",
+        "glob": "^8.0.3",
+        "htmlparser2": "^8.0.1",
+        "klaw-sync": "^6.0.0",
+        "minimatch": "^5.1.0",
+        "minimist": "^1.2.7",
+        "net-socket-messaging": "^0.1.6",
+        "prompts": "^2.4.2",
+        "semver": "^7.3.5",
+        "treeify": "^1.1.0",
+        "vlq": "^2.0.4",
+        "ws": "^8.13.0",
+        "yaml": "^2.1.1"
+      },
+      "bin": {
+        "appmap-agent-js": "bin/appmap-agent-js.cjs"
+      },
+      "engines": {
+        "node": "16.x.x || 17.x.x || 18.x.x || 19.x.x"
+      },
+      "optionalDependencies": {
+        "posix-socket": "^1.1.3",
+        "posix-socket-messaging": "0.0.1"
+      }
+    },
     "node_modules/@appland/appmap-validate": {
       "version": "2.3.0",
       "resolved": "https://registry.npmjs.org/@appland/appmap-validate/-/appmap-validate-2.3.0.tgz",
@@ -15286,6 +15323,34 @@
         "@jridgewell/trace-mapping": "^0.3.9"
       }
     },
+    "@appland/appmap-agent-js": {
+      "version": "14.2.0",
+      "resolved": "https://registry.npmjs.org/@appland/appmap-agent-js/-/appmap-agent-js-14.2.0.tgz",
+      "integrity": "sha512-I2ro2Y4iZNFwrd4e7bO3GxhgBuCwgqsbMeui8BDZtiE3elc1hSHasCTx3Pa2B2ZJ9dgM5BXl4oCb/p8nn5nqnA==",
+      "requires": {
+        "@appland/appmap-validate": "^2.3.0",
+        "@babel/parser": "^7.15.8",
+        "ajv": "^8.6.3",
+        "ajv-error-tree": "0.0.5",
+        "astring": "^1.8.4",
+        "chalk": "^5.0.1",
+        "fswin": "^3.23.311",
+        "glob": "^8.0.3",
+        "htmlparser2": "^8.0.1",
+        "klaw-sync": "^6.0.0",
+        "minimatch": "^5.1.0",
+        "minimist": "^1.2.7",
+        "net-socket-messaging": "^0.1.6",
+        "posix-socket": "^1.1.3",
+        "posix-socket-messaging": "0.0.1",
+        "prompts": "^2.4.2",
+        "semver": "^7.3.5",
+        "treeify": "^1.1.0",
+        "vlq": "^2.0.4",
+        "ws": "^8.13.0",
+        "yaml": "^2.1.1"
+      }
+    },
     "@appland/appmap-validate": {
       "version": "2.3.0",
       "resolved": "https://registry.npmjs.org/@appland/appmap-validate/-/appmap-validate-2.3.0.tgz",
diff --git a/package.json b/package.json
index 5ef4ea8..91c0038 100644
--- a/package.json
+++ b/package.json
@@ -40,6 +40,7 @@
     "posix-socket-messaging": "0.0.1"
   },
   "dependencies": {
+    "@appland/appmap-agent-js": "^14.2.0",
     "@appland/appmap-validate": "^2.3.0",
     "@babel/parser": "^7.15.8",
     "ajv": "^8.6.3",
